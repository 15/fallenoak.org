---
import img1 from "../assets/Solo Horse Pics/Ace/Ace_1.jpg";
import img2 from "../assets/foer_hanging_sign.png";
import { Image } from "astro:assets";

const { name, url, rescueDate, breed, changeName, isMale, age, dateOfBirth, cost, description } = Astro.props;
---

<a
  href={url}
  target="_blank"
  class="hover:scale-[1.05] duration-300 cursor-pointer hover:-rotate-1 flex flex-col gap-y-4 justify-center items-center rounded-md bg-purple-50 p-4"
  style="filter: drop-shadow(0 5px 5px #000)"
>
<Image
  id="dashie2"
  src={img2}
  alt=""
  class="right-4 top-[-12rem] lg:top-[-6.92rem] absolute w-28 max-w-lg mx-auto z-0"
/>
  <div class="text-base">Rescued by Fallen Oak on <span class="bg-purple-200 px-1.5 py-0.5 rounded">May 1, 2023</span></div>
  <div class="flex flex-row justify-center items-center">
    <div class="w-64 border-r border-neutral-400 flex flex-col gap-y-2 justify-center items-center">
      <Image
        src={img1}
        alt="Ace"
        class="object-cover object-center rounded-full border-2 border-black h-36 w-36"
      />

      <div class="text-4xl font-semibold">{ name }</div>
      <div class="flex flex-col gap-y-0.5 text-sm justify-center items-center">
        <div><span class="font-semibold">Breed:</span> <span class="bg-purple-200 px-1 py-[0.0625rem] rounded">{ breed }</span></div>
        <div><span class="font-semibold">Change name:</span> <span class="bg-purple-200 px-1 py-[0.0625rem] rounded">{ changeName ? 'Yes ✔️' : 'No ❌' }</span></div>
        <div><span class="font-semibold">Gender:</span> <span class="bg-purple-200 px-1 py-[0.0625rem] rounded">{ isMale ? 'Male' : 'Female' }</span></div>
        <div><span class="font-semibold">Age:</span> <span class="bg-purple-200 px-1 py-[0.0625rem] rounded">{ age }</span></div>
      </div>
    </div>
    <div class="w-80 flex flex-col gap-y-4 px-4">
      <div class="text-sm bg-purple-200 rounded p-4 italic relative speech-bubble">
        { description }
      </div>
      <div
        class="mt-2 text-center flex flex-col justify-center items-center gap-y-1"
      >
        <div
          class="px-2 py-1 lg:text-sm lg:px-3 lg:py-1 button button--mimas border-2 border-black"
        >
          <span>Donate</span>
        </div>
        <div class="text-sm font-medium text-neutral-600">${cost} / mo</div>
      </div>
    </div>
  </div>
</a>

<style>
  .button {
    pointer-events: auto;
    cursor: pointer;
    background: #000;
    /* border: none; */
    font-size: inherit;
    position: relative;
    display: inline-block;
  }

  .button::before,
  .button::after {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  .button--mimas {
    text-transform: uppercase;
    @apply lg:text-xl text-xl font-bold tracking-wider;
    border-radius: 0.5rem;
    overflow: hidden;
    color: #fff;
    background: #fefce8;
  }

  .button--mimas span {
    position: relative;
    mix-blend-mode: difference;
  }

  .button--mimas::before {
    content: "";
    background: #000;
    width: 120%;
    left: -10%;
    transform: skew(30deg);
    transition: transform 0.8s cubic-bezier(0.3, 1, 0.8, 1);
  }

  .button--mimas:hover::before {
    transform: translate3d(100%, 0, 0);
  }
  
  .speech-bubble {
	position: relative;
}

.speech-bubble:after {
	content: '';
	position: absolute;
	top: 0;
	right: 14%;
	width: 0;
	height: 0;
	border: 28px solid transparent;
	border-bottom-color: #e9d5ff;
	border-top: 0;
	border-right: 0;
	margin-left: -14px;
	margin-top: -28px;
}

</style>
